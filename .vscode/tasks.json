{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Start Redis",
      "type": "shell",
      "command": "docker run --name redis-server -p 6379:6379 -d redis:latest || docker start redis-server",
      "options": {
        "shell": {
          "executable": "cmd.exe",
          "args": ["/d", "/c"]
        }
      },
      "isBackground": false,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "eventdriven1"
      },
      "problemMatcher": []
    },
    {
      "label": "Start Django Backend",
      "type": "shell",
      "command": ".\\venv\\Scripts\\activate.bat && cd backend/djangoproject && python manage.py runserver",
      "options": {
        "shell": {
          "executable": "cmd.exe",
          "args": ["/d", "/c"]
        }
      },
      "isBackground": false,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "eventdriven2"
      },
      "problemMatcher": []
    },
    {
      "label": "Start Celery Worker",
      "type": "shell",
      "command": ".\\venv\\Scripts\\activate.bat && cd .. && celery -A daemon.tasks.tasks worker --loglevel=info --concurrency=1 --pool=solo",
      "options": {
        "shell": {
          "executable": "cmd.exe",
          "args": ["/d", "/c"]
        }
      },
      "isBackground": false,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "eventdriven3"
      },
      "problemMatcher": []
    },
    {
      "label": "Start Task Processor Daemon",
      "type": "shell",
      "command": ".\\venv\\Scripts\\activate.bat && cd daemon && python processor.py",
      "options": {
        "shell": {
          "executable": "cmd.exe",
          "args": ["/d", "/c"]
        }
      },
      "isBackground": false,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "eventdriven4"
      },
      "problemMatcher": []
    },
    {
      "label": "Start React Frontend",
      "type": "shell",
      "command": "cd frontend/reactproject && npm start",
      "options": {
        "shell": {
          "executable": "cmd.exe",
          "args": ["/d", "/c"]
        }
      },
      "isBackground": false,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "eventdriven5"
      },
      "problemMatcher": []
    },
    {
      "label": "Start All Services",
      "dependsOn": [
        "Start Redis",
        "Start Django Backend",
        "Start Celery Worker",
        "Start Task Processor Daemon",
        "Start React Frontend"
      ],
      "problemMatcher": []
    }
  ]
}
